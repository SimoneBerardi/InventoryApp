{"version":3,"sources":["../../src/pages/items/items.module.ts","../../src/components/total-bar/total-bar.module.ts","../../src/components/total-bar/total-bar.ts","../../src/pages/items/items.ts","../../src/components/item/item.module.ts","../../src/components/item/item.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ItemsPage } from './items';\r\nimport { ItemComponentModule } from \"../../components/item/item.module\";\r\nimport { TotalBarComponentModule } from \"../../components/total-bar/total-bar.module\";\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ItemsPage,\r\n  ],\r\n  imports: [\r\n    TotalBarComponentModule,\r\n    ItemComponentModule,\r\n    IonicPageModule.forChild(ItemsPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    ItemsPage\r\n  ]\r\n})\r\nexport class ItemsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/items/items.module.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TotalBarComponent } from './total-bar';\r\nimport { TranslateModule } from \"@ngx-translate/core\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TotalBarComponent,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(TotalBarComponent),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    TotalBarComponent\r\n  ]\r\n})\r\nexport class TotalBarComponentModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/total-bar/total-bar.module.ts","import { Component } from '@angular/core';\r\nimport { AlertController } from \"ionic-angular\";\r\nimport { SessionProvider } from '../../providers/session/session';\r\nimport { TranslateProvider } from '../../providers/translate/translate';\r\n\r\n@Component({\r\n  selector: 'total-bar',\r\n  templateUrl: 'total-bar.html'\r\n})\r\nexport class TotalBarComponent {\r\n\r\n  constructor(\r\n    private _alertCtrl: AlertController,\r\n    private _session: SessionProvider,\r\n    private _translate: TranslateProvider,\r\n  ) {\r\n  }\r\n\r\n  get carriedWeight() {\r\n    return this._session.character.carriedWeight;\r\n  }\r\n  get carriedWeightColor() {\r\n    let result = \"secondary\";\r\n    if (this._session.character.isEncumbered)\r\n      result = \"warning\";\r\n    if (this._session.character.isHeavilyEncumbered)\r\n      result = \"danger\";\r\n    if (this._session.character.isOverMaxCarry)\r\n      result = \"alert\";\r\n    return result;\r\n  }\r\n  get carriedWeightIconName() {\r\n    let result = \"checkmark-circle\";\r\n    if (this._session.character.isEncumbered)\r\n      result = \"warning\";\r\n    return result;\r\n  }\r\n  get isEncumbered() {\r\n    return this._session.character.isEncumbered && !this._session.character.isHeavilyEncumbered;\r\n  }\r\n  get isHeavilyEncumbered() {\r\n    return this._session.character.isHeavilyEncumbered;\r\n  }\r\n  get isOverMaxCarry() {\r\n    return this._session.character.isOverMaxCarry;\r\n  }\r\n\r\n  showInfo() {\r\n    this._translate.translate([\"Ottimo\", \"Attenzione\", \"Ok\", \"NotEncumberedMessage\", \"EncumberedMessage\", \"HeavilyEncumberedMessage\", \"MaxCarryMessage\"]).then(values => {\r\n      let message = values[\"NotEncumberedMessage\"];\r\n      let title = values[\"Ottimo\"];\r\n      if (this._session.character.isEncumbered) {\r\n        message = values[\"EncumberedMessage\"];\r\n        title = values[\"Attenzione\"];\r\n      }\r\n      if (this._session.character.isHeavilyEncumbered)\r\n        message = values[\"HeavilyEncumberedMessage\"];\r\n      if (this._session.character.isOverMaxCarry)\r\n        message = values[\"MaxCarryMessage\"];\r\n      this._alertCtrl.create({\r\n        title: title,\r\n        message: message,\r\n        buttons: [\r\n          {\r\n            text: values[\"Ok\"]\r\n          }\r\n        ]\r\n      }).present();\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/total-bar/total-bar.ts","import { Component, OnInit } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Item } from \"../../model/item\";\r\nimport { ItemsListProvider } from '../../providers/items-list/items-list';\r\nimport { InterfaceProvider } from '../../providers/interface/interface';\r\nimport { SessionProvider } from '../../providers/session/session';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-items',\r\n  templateUrl: 'items.html',\r\n})\r\nexport class ItemsPage implements OnInit {\r\n  itemsType = \"weapons\";\r\n  items: Item[] = new Array<Item>();\r\n  weapons: Item[] = new Array<Item>();\r\n  armors: Item[] = new Array<Item>();\r\n  simpleItems: Item[] = new Array<Item>();\r\n\r\n  isSearching: boolean = false;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private _items: ItemsListProvider,\r\n    private _interface: InterfaceProvider,\r\n    private _session: SessionProvider,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.items = this._items.items;\r\n    this.weapons = this._items.weaponItems;\r\n    this.armors = this._items.armorItems;\r\n    this.simpleItems = this._items.simpleItems;\r\n  }\r\n\r\n  getItems(event: any) {\r\n    this.items = this._items.items;\r\n    let value = event.target.value as string;\r\n    if (value && value.trim() != '' && value.length >= 3) {\r\n      this.isSearching = true;\r\n      this.items = this.items.filter(item => item.name.toLowerCase().indexOf(value.toLowerCase()) >= 0);\r\n    } else\r\n      this.isSearching = false;\r\n  }\r\n\r\n  addItem(item: Item) {\r\n    this._interface.selectQuantity().then(quantity => {\r\n      this._interface.selectBag(this._session.character).then(bag => {\r\n        bag.addItem(item, quantity);\r\n        this._session.saveCharacter();\r\n      }).catch(() => { });\r\n    }).catch(() => { });;\r\n  }\r\n  add() {\r\n    this.navCtrl.push(\"ItemDetailsPage\");\r\n  }\r\n  modifyItem(item: Item) {\r\n    this.navCtrl.push(\"ItemDetailsPage\", { item: item });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/items/items.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ItemComponent } from './item';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ItemComponent,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ItemComponent),\r\n  ],\r\n  exports: [\r\n    ItemComponent\r\n  ]\r\n})\r\nexport class ItemComponentModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/item/item.module.ts","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { Item } from \"../../model/item\";\r\nimport { SessionProvider } from '../../providers/session/session';\r\n\r\n@Component({\r\n  selector: 'item',\r\n  templateUrl: 'item.html'\r\n})\r\nexport class ItemComponent {\r\n  @Input() item: Item;\r\n  @Output() modify: EventEmitter<null> = new EventEmitter();\r\n\r\n  constructor(\r\n    private _session: SessionProvider,\r\n  ) {\r\n  }\r\n\r\n  get name() {\r\n    return this.item.name;\r\n  }\r\n  get weight() {\r\n    return this.item.weight;\r\n  }\r\n  get quantity() {\r\n    return this._session.character.getItemQuantity(this.item);\r\n  }\r\n  get isCustom() {\r\n    return this.item.isCustom;\r\n  }\r\n  get description() {\r\n    return this.item.description;\r\n  }\r\n\r\n  modifyEvent(event: Event) {\r\n    event.stopPropagation();\r\n    this.modify.emit();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/item/item.ts"],"sourceRoot":""}