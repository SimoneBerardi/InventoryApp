{"version":3,"sources":["../../src/providers/utility/utility.ts","../../src/model/item.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/providers/migrations/migrations.ts","../../src/providers/session/session.ts","../../src/providers/interface/interface.ts","../../src/model/bag.ts","../../src/model/character.ts","../../src/model/bag-item.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/model/jsonable.ts","../../src/model/coins.ts","../../src/app/app.component.ts","../../src/providers/translate/translate.ts","../../src/providers/characters-list/characters-list.ts","../../src/model/storageable.ts","../../src/providers/items-list/items-list.ts","../../src/providers/options/options.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Injectable } from '@angular/core';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/toPromise';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Character } from \"../../model/character\";\r\nimport { TranslateService } from \"@ngx-translate/core\";\r\nimport { Http } from \"@angular/http\";\r\nimport { OptionsProvider } from '../options/options';\r\nimport { ItemsListProvider } from '../items-list/items-list';\r\nimport { CharactersListProvider } from '../characters-list/characters-list';\r\nimport { MigrationsProvider } from '../migrations/migrations';\r\n\r\n@Injectable()\r\nexport class UtilityProvider {\r\n  /**\r\n   * Deprecato\r\n   */\r\n  private _storageKeys =\r\n  {\r\n    options: \"inventoryApp_options\",\r\n    characters: \"inventoryApp_characters\",\r\n    bags: \"inventoryApp_bags\",\r\n    bagItems: \"inventoryApp_bagItems\",\r\n    customItems: \"inventoryApp_customItems\",\r\n  };\r\n\r\n  images = {\r\n    character: \"assets/images/character_grayscale.png\",\r\n    bag: \"assets/images/bag_grayscale.png\",\r\n    coin: \"assets/images/coin_grayscale.png\",\r\n  };\r\n\r\n  constructor(\r\n    private _storage: Storage,\r\n    private _options: OptionsProvider,\r\n    private _items: ItemsListProvider,\r\n    private _characters: CharactersListProvider,\r\n    private _migrations: MigrationsProvider,\r\n  ) { }\r\n\r\n  /**\r\n   * Inizializza l'app\r\n   */\r\n  init() {\r\n    console.log(\"Migrazione dati...\");\r\n    return this._migrations.load().then(() => {\r\n      return this._migrations.migrate();\r\n    }).then(() => {\r\n      console.log(\"Caricamento opzioni...\");\r\n      return this._options.load()\r\n    }).then(() => {\r\n      console.log(\"Caricamento personaggi...\");\r\n      return this._characters.load();\r\n    }).then(() => {\r\n      console.log(\"Caricamento oggetti...\");\r\n      return this._items.load();\r\n    });\r\n  }\r\n  /**\r\n   * Resetta l'app alle impostazioni di fabbrica\r\n   */\r\n  reset() {\r\n    return this._storage.clear().then(() => {\r\n      return this.init();\r\n    });\r\n  }\r\n  /**\r\n   * Restituisce l'immagine di un personaggio\r\n   */\r\n  getCharacterImage(character: Character) {\r\n    let result = character.image;\r\n    if (result == null)\r\n      result = this.images.character;\r\n    return result;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/utility/utility.ts","import { Jsonable } from \"./jsonable\";\r\n\r\nexport class Item extends Jsonable {\r\n    id: number;\r\n    name: string;\r\n    weight: number;\r\n    tags: string;\r\n    description: string;\r\n    isCustom: boolean;\r\n\r\n    static sort(a: Item, b: Item) {\r\n        if (a.name.toLowerCase() < b.name.toLowerCase())\r\n            return -1;\r\n        else if (a.name.toLowerCase() > b.name.toLowerCase())\r\n            return 1;\r\n        else\r\n            return 0;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/item.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 129;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 129\n// module chunks = 9","var map = {\n\t\"../pages/bag-details/bag-details.module\": [\n\t\t316,\n\t\t8\n\t],\n\t\"../pages/character-details/character-details.module\": [\n\t\t315,\n\t\t2\n\t],\n\t\"../pages/characters-list/characters-list.module\": [\n\t\t317,\n\t\t3\n\t],\n\t\"../pages/home/home.module\": [\n\t\t318,\n\t\t7\n\t],\n\t\"../pages/inventory/inventory.module\": [\n\t\t319,\n\t\t0\n\t],\n\t\"../pages/item-details/item-details.module\": [\n\t\t320,\n\t\t6\n\t],\n\t\"../pages/items/items.module\": [\n\t\t321,\n\t\t1\n\t],\n\t\"../pages/money-details/money-details.module\": [\n\t\t322,\n\t\t5\n\t],\n\t\"../pages/options/options.module\": [\n\t\t323,\n\t\t4\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 170;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 170\n// module chunks = 9","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Storageable } from '../../model/storageable';\n\n@Injectable()\nexport class MigrationsProvider extends Storageable {\n\n  migrations: any = {};\n\n  constructor(\n    _storage: Storage,\n  ) {\n    super(_storage, \"inventoryApp_migrations\");\n  }\n\n  migrate() {\n    // this._storage.get(\"inventoryApp_characters\").then(value => {\n    //   value.characters = JSON.parse(value.characters);\n    //   this._storage.set(\"inventoryApp_characters\", value);\n    // });\n    if (!this.migrations[\"2.0.0\"]) {\n      return this._storage.get(\"inventoryApp_characters\").then(value => {\n        return this._storage.set(\"inventoryApp_characters\", { characters: JSON.parse(value) });\n      }).then(() => {\n        return this._storage.get(\"inventoryApp_customItems\");\n      }).then(value => {\n        return this._storage.set(\"inventoryApp_items\", { customItems: value });\n      }).then(() => {\n        return this._storage.remove(\"inventoryApp_customItems\");\n      }).then(() => {\n        this.migrations[\"2.0.0\"] = true;\n        return this.save();\n      });\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/migrations/migrations.ts","import { Injectable } from '@angular/core';\nimport { Character } from '../../model/character';\nimport { BagItem } from '../../model/bag-item';\nimport { ItemsListProvider } from '../items-list/items-list';\nimport { CharactersListProvider } from '../characters-list/characters-list';\n\n@Injectable()\nexport class SessionProvider {\n\n  /**\n   * Personaggio corrente\n   */\n  character: Character;\n\n  constructor(\n    private _characters: CharactersListProvider,\n    private _items: ItemsListProvider,\n  ) { }\n\n  loadCharacter(character: Character) {\n    character.bags.forEach(bag => {\n      bag.items.forEach(bagItem => {\n        bagItem.item = this._items.get(bagItem.itemId);\n      });\n    });\n    this.character = character;\n  }\n  saveCharacter() {\n    return this._characters.save();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/session/session.ts","import { Injectable } from '@angular/core';\nimport { AlertController, LoadingController, Loading } from 'ionic-angular';\nimport { Character } from '../../model/character';\nimport { Bag } from '../../model/bag';\nimport { TranslateProvider } from '../translate/translate';\n\n@Injectable()\nexport class InterfaceProvider {\n\n  private _loader: Loading;\n\n  constructor(\n    private _alertCtrl: AlertController,\n    private _loadingCtrl: LoadingController,\n    private _translate: TranslateProvider,\n  ) { }\n\n  /**\n   * Mostra un messaggio di errore\n   * @param message \n   */\n  showError(message: string) {\n    return this._translate.translate(\"Attenzione\").then(value => {\n      return this._showAlert(value, message);\n    });\n  }\n  /**\n   * Nasconde un caricamento\n   */\n  hideLoader() {\n    if (this._loader != null) {\n      this._loader.dismiss();\n      this._loader = null;\n    }\n  }\n  /**\n   * Mostra un caricamento in lingua\n   * @param messageKey \n   */\n  showLoaderLanguage(messageKey: string) {\n    return this._translate.translate(messageKey).then(value => {\n      return this._showLoader(value);\n    });\n  }\n  /**\n   * Mostra un messaggio in lingua\n   * @param titleKey \n   * @param messageKey \n   */\n  showAlertLanguage(titleKey: string, messageKey: string) {\n    this._translate.translate([titleKey, messageKey]).then(values => {\n      this._showAlert(values[titleKey], values[messageKey]);\n    })\n  }\n\n  selectQuantity(max?: number) {\n    return new Promise<number>((resolve, reject) => {\n      if (max && max == 1)\n        resolve(max);\n      else {\n        this._translate.translate([\"SelezionaQuantita\", \"Quanti?\", \"Ok\", \"Annulla\", \"Tutti\"]).then(values => {\n          let alert = this._alertCtrl.create({\n            title: values[\"SelezionaQuantita\"],\n            message: values[\"Quanti?\"],\n            enableBackdropDismiss: false,\n            inputs: [\n              {\n                type: \"number\",\n                name: \"quantity\",\n                min: 1,\n              }\n            ],\n            buttons: [\n              {\n                text: values[\"Annulla\"],\n                handler: () => {\n                  console.log(\"Selezione quantitÃ  annullata dall'utente\");\n                  reject();\n                }\n              },\n              {\n                text: values[\"Ok\"],\n                handler: data => {\n                  if (data.quantity && data.quantity != \"\" && parseFloat(data.quantity) > 0) {\n                    let quantity = parseFloat(data.quantity);\n                    if (max)\n                      quantity = Math.min(max, quantity);\n                    resolve(quantity);\n                  } else {\n                    this.showAlertLanguage(\"Attenzione\", \"InserireQuantitaValida\");\n                    return false;\n                  }\n                }\n              }\n            ]\n          });\n          alert.present();\n        })\n      }\n    });\n  }\n  selectBag(character: Character) {\n    return new Promise<Bag>((resolve, reject) => {\n      if (character.bags.length == 2)\n        resolve(character.backpack);\n      else {\n        this._translate.translate([\"ScegliZaino\", \"InQualeZaino?\", \"Conferma\", \"Annulla\"]).then(values => {\n          let alert = this._alertCtrl.create({\n            title: values[\"ScegliZaino\"],\n            message: values[\"InQualeZaino?\"],\n            enableBackdropDismiss: false,\n            buttons: [\n              {\n                text: values[\"Annulla\"],\n                handler: () => {\n                  console.log(\"Selezione borsa annullata dall'utente\");\n                  reject();\n                }\n              },\n              {\n                text: values[\"Conferma\"],\n                handler: data => {\n                  let bag = character.bags.filter(bag => bag.id == data)[0];\n                  resolve(bag);\n                }\n              }\n            ]\n          });\n          character.bags.forEach(bag => {\n            alert.addInput({\n              type: \"radio\",\n              label: bag.name,\n              value: bag.id.toString()\n            })\n          });\n          alert.present();\n        });\n      }\n    });\n  }\n  askConfirmation(title: string, message: string) {\n    return new Promise<boolean>((resolve, reject) => {\n      this._translate.translate([\"Si\", \"No\"]).then(values => {\n        this._alertCtrl.create({\n          title: title,\n          message: message,\n          enableBackdropDismiss: false,\n          buttons: [\n            {\n              text: values[\"No\"],\n              handler: () => {\n                resolve(false);\n              }\n            },\n            {\n              text: values[\"Si\"],\n              handler: () => {\n                resolve(true);\n              }\n            }\n          ]\n        }).present();\n      });\n    });\n  }\n\n  private _showAlert(title: string, message: string) {\n    return this._translate.translate(\"Ok\").then(value => {\n      return this._alertCtrl.create({\n        title: title,\n        message: message,\n        buttons: [\n          {\n            text: value\n          }\n        ]\n      }).present();\n    });\n  }\n  private _showLoader(message: string) {\n    if (this._loader != null)\n      this._loader.setContent(message);\n    else {\n      this._loader = this._loadingCtrl.create({\n        content: message,\n        dismissOnPageChange: true,\n      });\n      this._loader.present();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/interface/interface.ts","import { BagItem } from \"./bag-item\";\r\nimport { Item } from \"./item\";\r\nimport { Deserializable, Jsonable } from \"./jsonable\";\r\n\r\nexport class Bag extends Jsonable {\r\n    public id: number;\r\n    public name: string;\r\n    public weight: number;\r\n    public isEquipped: boolean;\r\n    public isFixedWeight: boolean;\r\n    public capacity: number;\r\n    @Deserializable(BagItem)\r\n    public items: BagItem[];\r\n\r\n    constructor(name: string) {\r\n        super();\r\n        this.name = name;\r\n        this.weight = 0;\r\n        this.capacity = 0;\r\n    }\r\n\r\n    public get totalWeight() {\r\n        let result = this.weight;\r\n        if (!this.isFixedWeight)\r\n            result += this.itemsWeight;\r\n        return result;\r\n    }\r\n    public get isOverCapacity() {\r\n        return this.isFixedWeight && this.itemsWeight > this.capacity;\r\n    }\r\n    public get itemsWeight() {\r\n        return this.items.map(item => item.weight).reduce((a, b) => a + b, 0);\r\n    }\r\n\r\n    public addItem(item: Item, quantity: number = 1) {\r\n        let oldBagItem = this.items.filter(bagItem => bagItem.item.id == item.id)[0];\r\n        if (oldBagItem != null)\r\n            oldBagItem.quantity += quantity;\r\n        else {\r\n            let bagItem = new BagItem(item.id, item);\r\n            bagItem.id = this._generateBagItemId();\r\n            bagItem.quantity = quantity;\r\n            this.items.push(bagItem);\r\n        }\r\n    }\r\n    public removeItem(bagItem: BagItem, quantity: number = 1) {\r\n        if (quantity >= bagItem.quantity)\r\n            this.items.splice(this.items.indexOf(bagItem), 1);\r\n        else\r\n            bagItem.quantity -= quantity;\r\n    }\r\n\r\n    private _generateBagItemId() {\r\n        let result = 1;\r\n        if (this.items.length > 0)\r\n            result = Math.max.apply(this, this.items.map(item => item.id)) + 1;\r\n        return result;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/bag.ts","import { Bag } from \"./bag\";\r\nimport { Item } from \"./item\";\r\nimport { Coins } from \"./coins\";\r\nimport { Deserializable, Jsonable } from \"./jsonable\";\r\n\r\nexport class Character extends Jsonable {\r\n    /** Serve per ottimizzare i salvataggi su db per singolo personaggio */\r\n    id: number;\r\n    name: string;\r\n    race: string;\r\n    class: string;\r\n    strength: number;\r\n    image: string;\r\n    @Deserializable(Bag)\r\n    bags: Bag[];\r\n    @Deserializable(Coins)\r\n    coins: Coins;\r\n\r\n    constructor(name: string, race: string, classValue: string) {\r\n        super();\r\n        this.name = name;\r\n        this.race = race;\r\n        this.class = classValue;\r\n        this.strength = 10;\r\n    }\r\n\r\n    public get description() {\r\n        return this.class + \" \" + this.race;\r\n    }\r\n    public get equippedBag(): Bag {\r\n        return this.bags.filter(bag => bag.isEquipped)[0];\r\n    }\r\n    public get backpack(): Bag {\r\n        return this.bags.filter(bag => !bag.isEquipped)[0];\r\n    }\r\n    public get unequippedBags() {\r\n        return this.bags.filter(bag => !bag.isEquipped);\r\n    }\r\n    public get carriedWeight() {\r\n        return this.bags.map(bag => bag.totalWeight).reduce((a, b) => a + b, 0) + this.coins.weight;\r\n    }\r\n    public get isEncumbered() {\r\n        return this.carriedWeight > this.encumberedValue;\r\n    }\r\n    public get isHeavilyEncumbered() {\r\n        return this.carriedWeight > this.heavilyEncumberedValue;\r\n    }\r\n    public get isOverMaxCarry() {\r\n        return this.carriedWeight > this.maxCarryValue;\r\n    }\r\n    public get encumberedValue() {\r\n        return parseFloat((this.strength * 5 * 0.453592).toFixed(2));\r\n    }\r\n    public get heavilyEncumberedValue() {\r\n        return parseFloat((this.strength * 10 * 0.453592).toFixed(2));\r\n    }\r\n    public get maxCarryValue() {\r\n        return parseFloat((this.strength * 15 * 0.453592).toFixed(2));\r\n    }\r\n\r\n    public getItemQuantity(item: Item) {\r\n        let result = 0;\r\n        this.bags.forEach(bag => {\r\n            result += bag.items.filter(bagItem => bagItem.itemId == item.id).map(bagItem => bagItem.quantity).reduce((a, b) => a + b, 0)\r\n        });\r\n        return result;\r\n    }\r\n    public addBag(name: string) {\r\n        let bag = new Bag(name);\r\n        bag.id = this._generateBagId();\r\n        this.bags.push(bag);\r\n        return bag;\r\n    }\r\n    public removeBag(bag: Bag) {\r\n        this.bags.splice(this.bags.indexOf(bag), 1);\r\n    }\r\n\r\n    private _generateBagId() {\r\n        let result = 1;\r\n        if (this.bags.length > 0)\r\n            result = Math.max.apply(this, this.bags.map(bag => bag.id)) + 1;\r\n        return result;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/character.ts","import { Item } from \"./item\";\r\nimport { Serializable, Jsonable } from \"./jsonable\";\r\n\r\nexport class BagItem extends Jsonable {\r\n    public id: number;\r\n    public itemId: number;\r\n    public quantity: number;\r\n    @Serializable(false)\r\n    public item: Item;\r\n\r\n    constructor(itemId: number, item: Item) {\r\n        super();\r\n        this.itemId = itemId;\r\n        this.item = item;\r\n        this.quantity = 1;\r\n    }\r\n\r\n    public get text() {\r\n        let result = this.item.name;\r\n        if (this.quantity > 1)\r\n            result = this.quantity + \" x \" + result;\r\n        return result;\r\n    }\r\n    public get weight() {\r\n        return this.item.weight * this.quantity;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/bag-item.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\n\r\nimport { MyApp } from './app.component';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\nimport { UtilityProvider } from '../providers/utility/utility';\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\nimport { HttpModule } from '@angular/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { OptionsProvider } from '../providers/options/options';\r\nimport { CharactersListProvider } from '../providers/characters-list/characters-list';\r\nimport { SessionProvider } from '../providers/session/session';\r\nimport { ItemsListProvider } from '../providers/items-list/items-list';\r\nimport { InterfaceProvider } from '../providers/interface/interface';\nimport { TranslateProvider } from '../providers/translate/translate';\nimport { MigrationsProvider } from '../providers/migrations/migrations';\r\n\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    IonicModule.forRoot(MyApp),\r\n    IonicStorageModule.forRoot(),\r\n    HttpClientModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: HttpLoaderFactory,\r\n        deps: [HttpClient]\r\n      }\r\n    }),\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\r\n    UtilityProvider,\r\n    OptionsProvider,\r\n    CharactersListProvider,\r\n    SessionProvider,\r\n    ItemsListProvider,\r\n    InterfaceProvider,\n    TranslateProvider,\n    MigrationsProvider,\r\n  ]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import \"reflect-metadata\";\r\n\r\nexport class Jsonable {\r\n    /**\r\n     * Carica tutte le proprietÃ  di un oggetto json nella classe\r\n     * @param jsonValue Oggetto json da caricare\r\n     * @param skipPrivate Indica se saltare il caricamento delle proprietÃ  private\r\n     */\r\n    fromJSON(jsonValue: any, skipPrivate: boolean = true) {\r\n        if (jsonValue) {\r\n            for (var prop in jsonValue)\r\n                if (jsonValue.hasOwnProperty(prop)) {\r\n                    if (!skipPrivate || !prop.startsWith(\"_\")) {\r\n                        let propJsonValue = jsonValue[prop];\r\n                        let propValue = jsonValue[prop];\r\n                        let metadata = getDeserializableMetadata(this, prop);\r\n                        if (metadata) {\r\n                            if (propJsonValue instanceof Array) {\r\n                                propValue = [];\r\n                                propJsonValue.forEach(element => {\r\n                                    propValue.push(this._fromJSONDeserialize(metadata, element));\r\n                                });\r\n                            } else\r\n                                propValue = this._fromJSONDeserialize(metadata, propJsonValue);\r\n                        }\r\n                        this[prop] = propValue;\r\n                    }\r\n                }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Salva tutte le proprietÃ  dell'istanza in un oggetto json\r\n     * @param instance Istanza dell'oggetto da salvare\r\n     * @param skipPrivate Indica se saltare il salvataggio delle proprietÃ  private\r\n     */\r\n    toJSON(instance: any, skipPrivate: boolean = true) {\r\n        let jsonValue = {};\r\n        if (instance) {\r\n            for (var prop in instance)\r\n                if (instance.hasOwnProperty(prop))\r\n                    if (!skipPrivate || !prop.startsWith(\"_\")) {\r\n                        let metadata = getSerializableMetadata(instance, prop);\r\n                        if (!metadata || metadata.isSerializable)\r\n                            jsonValue[prop] = instance[prop];\r\n                    }\r\n        }\r\n        return jsonValue;\r\n    }\r\n\r\n    private _fromJSONDeserialize(metadata: DeserializableMetadata, propJsonValue: any) {\r\n        // console.log(\"Deserializzazione \" + metadata.propertyType + \" ...\");\r\n        let result = new metadata.propertyType() as Jsonable;\r\n        result.fromJSON(propJsonValue);\r\n        return result;\r\n    }\r\n}\r\n\r\nconst serializableMetadataKey = Symbol(\"Serializable\");\r\n\r\nexport interface SerializableMetadata {\r\n    isSerializable: boolean;\r\n}\r\n\r\nexport function Serializable(isSerializable: boolean = true): PropertyDecorator {\r\n    const metadata: SerializableMetadata = { isSerializable };\r\n    return Reflect.metadata(serializableMetadataKey, metadata);\r\n}\r\nexport function getSerializableMetadata(target: any, propertyKey: string): SerializableMetadata {\r\n    return Reflect.getMetadata(serializableMetadataKey, target, propertyKey);\r\n}\r\n\r\nconst deserializableMetadataKey = Symbol(\"Deserializable\");\r\n\r\nexport interface DeserializableMetadata {\r\n    propertyType: any;\r\n}\r\n\r\nexport function Deserializable(propertyType: any): PropertyDecorator {\r\n    const metadata: DeserializableMetadata = { propertyType };\r\n    return Reflect.metadata(deserializableMetadataKey, metadata);\r\n}\r\nexport function getDeserializableMetadata(target: any, propertyKey: string): DeserializableMetadata {\r\n    return Reflect.getMetadata(deserializableMetadataKey, target, propertyKey);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/jsonable.ts","import { Jsonable } from \"./jsonable\";\r\n\r\nexport class Coins extends Jsonable{\r\n    Copper: number = 0;\r\n    Silver: number = 0;\r\n    Electrum: number = 0;\r\n    Gold: number = 0;\r\n    Platinum: number = 0;\r\n\r\n    public get hasValue() {\r\n        return this.Copper > 0 || this.Silver > 0 || this.Electrum > 0 || this.Gold > 0 || this.Platinum > 0;\r\n    }\r\n    public get weight() {\r\n        return (this.Copper + this.Silver + this.Electrum + this.Gold + this.Platinum) / 50 * 0.5;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/coins.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { UtilityProvider } from \"../providers/utility/utility\";\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage: any;\r\n\r\n  constructor(platform: Platform,\r\n    statusBar: StatusBar,\r\n    splashScreen: SplashScreen,\r\n    private _utility: UtilityProvider,\r\n  ) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      if (location.href.indexOf(\"#\") >= 0)\r\n        location.assign(location.origin);\r\n      this._utility.init().then(() => {\r\n        this.rootPage = \"CharactersListPage\";\r\n        statusBar.styleDefault();\r\n        splashScreen.hide();\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\nimport 'rxjs/add/operator/toPromise';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Injectable()\nexport class TranslateProvider {\n\n  constructor(\n    private _translate: TranslateService,\n  ) {\n    this._translate.setDefaultLang(\"en\");\n  }\n\n  /**\n   * Imposta il linguaggio\n   * @param language \n   */\n  setLanguage(language: string) {\n    return this._translate.use(language).toPromise();\n  }\n  /**\n   * Traduce una o piÃ¹ chiavi\n   * @param key \n   */\n  translate(key: string | Array<string>, ) {\n    return this._translate.get(key).toPromise();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/translate/translate.ts","import { Injectable } from '@angular/core';\nimport { Storageable } from '../../model/storageable';\nimport { Storage } from '@ionic/storage';\nimport { Character } from '../../model/character';\nimport { UtilityProvider } from '../utility/utility';\nimport { Item } from '../../model/item';\nimport { TranslateProvider } from '../translate/translate';\nimport { Deserializable } from '../../model/jsonable';\n\n@Injectable()\nexport class CharactersListProvider extends Storageable {\n\n  @Deserializable(Character)\n  characters: Character[];\n\n  constructor(\n    _storage: Storage,\n    private _translate: TranslateProvider,\n  ) {\n    super(_storage, \"inventoryApp_characters\");\n  }\n\n  /**\n   * Aggiorna il personaggio e salva la lista\n   * @param saveCharacter \n   */\n  update(saveCharacter: Character) {\n    let oldCharacter = this.characters.find(character => character.id == saveCharacter.id);\n    Object.assign(oldCharacter, saveCharacter);\n    return this.save();\n  }\n  /**\n   * Aggiunge un nuovo personaggio e salva la lista\n   */\n  add(name: string) {\n    let character;\n    return this._translate.translate([\"Classe\", \"Razza\", \"Equipaggiato\", \"Zaino\"]).then(values => {\n      character = new Character(name, values[\"Razza\"], values[\"Classe\"]);\n      let bag = character.addBag(values[\"Equipaggiato\"]);\n      bag.isEquipped = true;\n      bag = character.addBag(values[\"Zaino\"]);\n      bag.weight = 2.5;\n      character.id = this._generateCharacterId();\n      this.characters.push(character);\n      return this.save();\n    }).then(() => {\n      return character;\n    });\n  }\n  /**\n   * Cancella il personaggio e salva la lista\n   * @param character \n   */\n  remove(character: Character) {\n    this.characters.splice(this.characters.indexOf(character), 1);\n    return this.save();\n  }\n  /**\n     * Verifica se esiste giÃ  un personaggio con questo nome\n     * @param name \n     */\n  nameAlreadyExists(name: string) {\n    return this.characters.find(char => char.name == name) != undefined;\n  }\n  /**\n   * Rimuove un oggetto custom da tutti i personaggi\n   * @param item \n   */\n  removeItem(item: Item) {\n    this.characters.forEach(character => {\n      character.bags.forEach(bag => {\n        bag.items.filter(bagItem => bagItem.item.id == item.id).forEach(bagItem => {\n          bag.items.splice(bag.items.indexOf(bagItem), 1);\n        });\n      });\n    });\n  }\n\n  /**\n   * Genera un id progressivo per un personaggio\n   */\n  private _generateCharacterId() {\n    let result = 1;\n    if (this.characters.length > 0)\n      result = Math.max.apply(this, this.characters.map(character => character.id)) + 1;\n    return result;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/characters-list/characters-list.ts","import { Storage } from '@ionic/storage';\r\nimport { Jsonable } from './jsonable';\r\n\r\nexport class Storageable extends Jsonable {\r\n\r\n    constructor(\r\n        protected _storage: Storage,\r\n        protected _storageKey: string,\r\n    ) {\r\n        super();\r\n    }\r\n    /**\r\n     * Carica l'istanza dal supporto di storage\r\n     */\r\n    load() {\r\n        return this._storage.get(this._storageKey).then(jsonValue => {\r\n            return this.fromJSON(jsonValue);\r\n        });\r\n    }\r\n    /**\r\n     * Salva l'istanza sul supporto di storage\r\n     */\r\n    save() {\r\n        return this._storage.set(this._storageKey, this.toJSON(this));\r\n    }\r\n    /**\r\n     * Cancella l'istanza dal supporto di storage\r\n     */\r\n    delete() {\r\n        return this._storage.remove(this._storageKey);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/model/storageable.ts","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport { Item } from '../../model/item';\nimport { Storageable } from '../../model/storageable';\nimport { Storage } from '@ionic/storage';\nimport { Serializable, Deserializable } from '../../model/jsonable';\nimport { OptionsProvider } from '../options/options';\nimport { CharactersListProvider } from '../characters-list/characters-list';\n\n@Injectable()\nexport class ItemsListProvider extends Storageable {\n\n  @Serializable(false)\n  items: Item[];\n  @Serializable(false)\n  weaponItems: Item[];\n  @Serializable(false)\n  armorItems: Item[];\n  @Serializable(false)\n  simpleItems: Item[];\n  @Deserializable(Item)\n  customItems: Item[];\n\n  constructor(\n    _storage: Storage,\n    private _http: Http,\n    private _options: OptionsProvider,\n    private _characters: CharactersListProvider,\n  ) {\n    super(_storage, \"inventoryApp_items\");\n    this.items = new Array<Item>();\n    this.weaponItems = new Array<Item>();\n    this.armorItems = new Array<Item>();\n    this.simpleItems = new Array<Item>();\n    this.customItems = new Array<Item>();\n  }\n\n  /**\n   * Restituisce l'oggetto in base all'id\n   */\n  get(id: number) {\n    return this.items.filter(item => item.id == id)[0];\n  }\n  /**\n   * Aggiunge un oggetto custom e salva la lista\n   * @param item \n   */\n  add(item: Item) {\n    item.id = this._generateItemId();\n    this.items.push(item);\n    this.simpleItems.push(item);\n    this.customItems.push(item);\n    this._sortItems();\n    return this.save().then(() => {\n      return item;\n    });\n  }\n  /**\n   * Rimuove un oggetto custom e salva la lista\n   * @param item \n   */\n  remove(item: Item) {\n    this._characters.removeItem(item);\n    this.items.splice(this.items.indexOf(item), 1);\n    this.simpleItems.splice(this.simpleItems.indexOf(item), 1);\n    this.customItems.splice(this.customItems.indexOf(item), 1);\n    return this.save();\n  }\n  /**\n   * Override\n   */\n  load() {\n    return super.load().then(() => {\n      this.customItems.forEach(customItem => {\n        this.items.push(customItem);\n      });\n      return this._loadItems();\n    }).then(() => {\n      return this._sortItems();\n    });\n  }\n\n  /**\n   * Ordina gli oggetti e tutte le cache\n   */\n  private _sortItems() {\n    this.items.sort(Item.sort);\n    this.armorItems.sort(Item.sort);\n    this.weaponItems.sort(Item.sort);\n    this.simpleItems.sort(Item.sort);\n  }\n  /**\n   * Carica tutti gli oggetti dal file json in lingua\n   */\n  private _loadItems() {\n    let fileName = \"assets/items.\" + this._options.language + \".json\";\n    return this._http.get(fileName).toPromise().then(value => {\n      value.json().items.forEach(jsonItem => {\n        let item = new Item();\n        item.fromJSON(jsonItem);\n        this.items.push(item);\n        this._loadItemIntoCache(item);\n      });\n      return;\n    });\n  }\n  /**\n   * Carica un oggetto nella cache relativa\n   * @param item \n   */\n  private _loadItemIntoCache(item: Item) {\n    if (item.tags.indexOf(\"weapons\") >= 0)\n      this.weaponItems.push(item);\n    if (item.tags.indexOf(\"armors\") >= 0)\n      this.armorItems.push(item);\n    if (item.tags.indexOf(\"items\") >= 0)\n      this.simpleItems.push(item);\n  }\n  /**\n   * Genera un id progressivo per un oggetto\n   */\n  private _generateItemId() {\n    let result = 1;\n    if (this.items.length > 0)\n      result = Math.max.apply(this, this.items.map(item => item.id)) + 1;\n    return result;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/items-list/items-list.ts","import { Injectable } from '@angular/core';\nimport { Storageable } from '../../model/storageable';\nimport { Storage } from '@ionic/storage';\nimport { TranslateProvider } from '../translate/translate';\n\n@Injectable()\nexport class OptionsProvider extends Storageable {\n\n  language: string;\n\n  constructor(\n    _storage: Storage,\n    private _translate: TranslateProvider,\n  ) {\n    super(_storage, \"inventoryApp_options\");\n  }\n\n  setLanguage(language: string) {\n    this.language = language;\n    return this._translate.setLanguage(language).then(() => {\n      return this.save();\n    });\n  }\n\n  load() {\n    return super.load().then(() => {\n      return this._translate.setLanguage(this.language);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/options/options.ts"],"sourceRoot":""}